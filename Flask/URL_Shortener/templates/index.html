{% extends 'base.html' %}

{% block content %}
<h2 class="mb-3">Shorten Your URL</h2>

<form method="POST">
    <div class="mb-3">
        <input type="text" class="form-control" name="original_url"
               placeholder="Enter URL here" required>
    </div>
    <button type="submit" class="btn btn-primary">Shorten</button>
</form>

{% if short_url %}
<hr>
<div class="mt-3">
    <label>Shortened URL</label>
    <input type="text" class="form-control" id="shortUrl" value="{{ short_url }}" readonly>
    <button class="btn btn-success mt-2" onclick="copyURL()">Copy</button>
</div>
{% endif %}

<script>
function copyURL() {
    let copyText = document.getElementById("shortUrl");
    copyText.select();
    document.execCommand("copy");
    alert("Copied to clipboard!");
}
</script>

{% endblock %}
